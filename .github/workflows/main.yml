name: streamlit pinger

on:
  schedule:
    - cron: "*/10 * * * *"
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Streamlit app (no redirects)
        run: |
          URL="https://ai-training-aid-8b84t27ivzumzycyzwd6tv.streamlit.app/"
          echo "Pinging $URL"
          curl -sS -A "Mozilla/5.0" \
            --connect-timeout 10 \
            --max-time 25 \
            -o /dev/null \
            -w "HTTP %{http_code} | redirect_to=%{redirect_url}\n" \
            "$URL"
